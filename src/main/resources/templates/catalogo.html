<!DOCTYPE html>
<html lang="en">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!--iconos de fontawesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="Css/css-catalogo.css">
    <link rel="icon" type="image/svg+xml" href="Imagenes/logo4.png">
    <title>Catalogo</title>
</head>
<body>
  
 <div class="header">LSJ</div>

    
    <div class="header-container">
        <a href="index.html" class="logo">
          <img class="logo" src="imagenes/logo.png" alt="Logo de la tienda">
        </a>
    
    <div class="search-container">
            <form class="search-form" action="/buscar" method="get" title="buscar">
                <input type="text" class="search-input" placeholder="Buscar productos..." name="q">
                <button type="submit" class="search-button">
                    <i class="fas fa-search"></i>
                </button>
            </form>
    </div>
    

   <div class="icon-container">
            <a href="registro.html" class="icon" title="Registro">
                <i class="fas fa-user-plus"></i>
            </a>
            <a href="catalogo.html" class="icon" title="Catálogo">
                <i class="fas fa-book"></i>
                </a>
            <a href="pasarela.html" class="icon" title="Carrito de compras">
                <i class="fas fa-shopping-cart"></i>
                </a>
            </div>
        </div>
    </div>


    <div class="titulo_catalogo">CATÁLOGO DE PRODUCTOS </div>

<section class="productos">
    <div class="producto">
      <img src = Imagenes-catalogo/newyork.jpg alt="Corte New York">
      <h3><em>Corte New York</em></h3>
      <p class="precio">130.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    


    <div class="producto">
      <img src = Imagenes-catalogo/tomahawk.jpg alt="Tomahawk">
      <h3><em>Tomahawk</em></h3>
      <p class="precio">165.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    
    <div class="producto">
      <img src = Imagenes-catalogo/milegnon.jpg alt="Milegnon">
      <h3><em>Filete mignon</em></h3>
      <p class="precio">100.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    
    <div class="producto">
      <img src = Imagenes-catalogo/lomores.jpg alt="Lomo de res">
      <h3><em>Lomo de res</em></h3>
      <p class="precio">85.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    
    <div class="producto">
      <img src = Imagenes-catalogo/ribeye.jpg alt="Ribeye">
      <h3><em>Ribeye</em></h3>
      <p class="precio">120.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    

    <div class="producto">
      <img src = Imagenes-catalogo/picaña.jpg  alt="Picaña">
      <h3><em>Picaña</em></h3>
      <p class="precio">170.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>
    
    <div class="producto">
      <img src = Imagenes-catalogo/tbone.jpg alt="T-Bone">
      <h3><em>T-Bone</em></h3>
      <p class="precio">97.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>

    <div class="producto">
      <img src = Imagenes-catalogo/brisket.jpg alt="Brisket">
      <h3><em>Brisket</em></h3>
      <p class="precio">285.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>

    <div class="producto">
      <img src = Imagenes-catalogo/churrasco.jpg  alt="Churrasco">
      <h3><em>Churrasco</em></h3>
      <p class="precio">78.000 $</p>
      
      <div class = "linea"></div> <!--esto es un hr falso-->
      <div class="carrito" title="Añadir al carrito"> <!--esto es para el icono del carrito-->
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      
      <button>Comprar ahora</button>
    </div>

<!-- Modal Dinámico -->
<div id="modal" class="modal" style="display: none;">
  <div class="modal-contenido">
    <span class="cerrar">&times;</span>
    <img id="modal-imagen" src="" alt="" />
    <h3 id="modal-nombre"></h3>
    <p>Precio unitario: <strong id="modal-precio-unitario"></strong></p>

    <label for="cantidad">Cantidad:</label>
    <input type="number" id="modal-cantidad" value="1" min="1" max="99"/>

    <p>Total: <strong id="modal-precio-total"></strong></p>

    <button id="modal-comprar">Comprar ahora</button>
  </div>
</div>


</div>

<!-- ESTO YA ES BACKEND -->
<script>
  // Selectores y elementos del DOM
  const productos = document.querySelectorAll(".producto");
  const modal = document.getElementById("modal");
  const cerrar = document.querySelector(".cerrar");
  const modalContenido = document.querySelector(".modal-contenido");
  const modalImagen = document.getElementById("modal-imagen");
  const modalNombre = document.getElementById("modal-nombre");
  const modalPrecioUnitario = document.getElementById("modal-precio-unitario");
  const modalCantidad = document.getElementById("modal-cantidad");
  const modalPrecioTotal = document.getElementById("modal-precio-total");

  let precioUnitario = 0;

  // Función para formatear precio en pesos (ej: 1.234.567)
  function formatearPesos(n) {
    return new Intl.NumberFormat('es-CO').format(n) + " $";
  }

  // Abrir modal con datos del producto
  productos.forEach(producto => {
    producto.addEventListener("click", () => {
      const imagen = producto.querySelector("img").src;
      const nombre = producto.querySelector("h3").innerText;
      const precioTexto = producto.querySelector(".precio").innerText;

      // Convertir "130.000 $" -> 130000 (number)
      precioUnitario = parseFloat(precioTexto.replace(/\./g, "").replace(/\s*\$/g, "").trim()) || 0;

      modalImagen.src = imagen;
      modalNombre.innerText = nombre;
      modalPrecioUnitario.innerText = precioTexto;
      modalCantidad.value = 1;
      modalPrecioTotal.innerText = formatearPesos(precioUnitario);

      // Mostrar modal
      modal.style.display = "flex";

      // Asegurarse de que el input tenga foco para mejor UX
      setTimeout(() => modalCantidad.focus(), 100);
    });
  });

  // Cerrar modal con la X
  cerrar.addEventListener("click", () => {
    modal.style.display = "none";
  });

  // Cerrar modal al hacer clic fuera del contenido
  window.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
    }
  });

  // Evitar que la rueda del ratón cambie el número mientras el input tiene foco
  modalCantidad.addEventListener('wheel', (e) => {
    if (document.activeElement === modalCantidad) {
      e.preventDefault();
    }
  }, { passive: false });

  // Manejo del input: limpiar no dígitos, limitar inmediatamente a 1..99 y actualizar total
  modalCantidad.addEventListener("input", () => {
    const raw = modalCantidad.value.trim();

    // Permitir campo vacío temporalmente para que el usuario pueda borrar y escribir
    if (raw === "") {
      // Muestra precio unitario mientras está vacío
      modalPrecioTotal.innerText = formatearPesos(precioUnitario);
      return;
    }

    // Quitar todo lo que no sea dígito
    const cleaned = raw.replace(/\D/g, "");
    if (cleaned === "") {
      modalCantidad.value = "";
      modalPrecioTotal.innerText = formatearPesos(precioUnitario);
      return;
    }

    let n = parseInt(cleaned, 10);

    // Limitar inmediatamente
    if (n > 99) n = 99;
    if (n < 1) n = 1;

    // Escribir el valor limpio y limitado de vuelta en el input
    modalCantidad.value = n;

    // Actualizar total
    const total = n * precioUnitario;
    modalPrecioTotal.innerText = formatearPesos(total);
  });

  // Validar y normalizar al perder el foco (blur)
  modalCantidad.addEventListener("blur", () => {
    const raw = modalCantidad.value.trim();
    if (raw === "" || isNaN(parseInt(raw, 10))) {
      modalCantidad.value = 1;
    } else {
      let v = parseInt(raw, 10);
      if (v < 1) v = 1;
      if (v > 99) v = 99;
      modalCantidad.value = v;
    }

    const final = parseInt(modalCantidad.value, 10) || 1;
    modalPrecioTotal.innerText = formatearPesos(final * precioUnitario);
  });

  // Evitar pegar texto no numérico o mayor a 99
  modalCantidad.addEventListener("paste", (e) => {
    const paste = (e.clipboardData || window.clipboardData).getData('text').trim();
    if (!/^\d+$/.test(paste)) {
      e.preventDefault();
      return;
    }
    const num = parseInt(paste, 10);
    if (num > 99) {
      e.preventDefault();
      modalCantidad.value = 99;
      modalPrecioTotal.innerText = formatearPesos(99 * precioUnitario);
    }
  });

  // Permitir solo dígitos y teclas funcionales
  modalCantidad.addEventListener("keydown", (e) => {
    const allowedKeys = [
      "Backspace", "ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Delete", "Tab", "Home", "End"
    ];
    if (allowedKeys.includes(e.key)) return;
    if (/^\d$/.test(e.key)) return;
    e.preventDefault();
  });

  // Opcional: botón de comprar (puedes enlazar con tu lógica de carrito)
  const btnComprar = document.getElementById("modal-comprar");
  if (btnComprar) {
    btnComprar.addEventListener("click", () => {

    });
  }
</script>
</section>


<footer class="footer">
  <div class="footer-column1">
    <img src="Imagenes/logo-removebg-preview (1).png" class="logo2">
    <h3><em>Acerca de:</em></h3>
<ul>
  <li><a href="sobreNosotros.html #sobre-nosotros">Sobre nosotros</a></li>
  <li><a href="sobreNosotros.html #informacion-entrega">Información de entrega</a></li>
  <li><a href="sobreNosotros.html #politica-privacidad">Política de privacidad</a></li>
  <li><a href="sobreNosotros.html #proveedores">Proveedores locales</a></li>
</ul>
    <div class="social-icons">
  <a href="https://wa.me/573223738274" target="_blank" title="Chatea con nosotros en WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>
  <a href="https://www.instagram.com/nortsteak_oficial?igsh=MWVsZHJ2ZmN6MDQyeQ==" target="_blank" title="Síguenos en Instagram">
    <i class="fab fa-instagram"></i>
  </a>
  <a href="https://web.facebook.com/profile.php?id=61578975458021" target="_blank" title="Visítanos en Facebook">
    <i class="fab fa-facebook"></i>
  </a>
</div>
    <p class="copyright">
      &copy; 2025 NortSteak. Todos los derechos reservados.
    </p>
  </div>

  <div class="footer-column2">
  <h3><em>¿Necesitas ayuda?</em></h3>
  <p class="contact-button">
    Contáctanos: +57 3223738274
    <i class="fas fa-phone"></i>
  </p>

  <h3><em>Bancos aliados</em></h3>
  <div class="bancos">
    <img src="Imagenes/BancolombiaBlanco.png" class="logo-bancolombia">
    <img src="Imagenes/FalabellaBlanco.png" class="logo-falabella">
    <img src="Imagenes/NequiBlanco.png" class="logo-nequi">
  </div>

  <h3><em>Ubicación</em></h3>
  <div class="ubicacion-mapa">
   <iframe 
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3951.938590607054!2d-72.50586998941517!3d7.9014847920886275!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e66456e853423bd%3A0x6bd4a033f6ad90de!2sSENA!5e0!3m2!1ses-419!2sco!4v1753975279322!5m2!1ses-419!2sco"
    style="width: 100%; height: 100%; border: 0; border-radius: 12px;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
  </div>
</div>


  

</footer>




</body>
</html>